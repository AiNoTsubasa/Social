<!DOCTYPE html>
<html>
	<head>
		<title>Google+ Login</title>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	    <meta name="description" content="Google+ Login">
	    <meta name="author" content="AiNoTsubasa">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<style type="text/css"></style>
		
		<meta name="google-signin-scope" content="profile email">
		<meta name="google-signin-client_id" content="20526851930-6cb1t6sh1u02bnhlai9btkues6jbhdoh.apps.googleusercontent.com">
		<script src="https://apis.google.com/js/platform.js" async defer></script>

	</head>
	<body>

		<script>
			function onSignIn(userInfo) {
				var result = '';
				
				// Useful data for your client-side scripts:
				var profile = userInfo.getBasicProfile();
				
				result+= "ID: "+profile.getId()+"\n";
				result+= "Full Name:  "+profile.getName()+"\n";
				result+= "Given Name: "+profile.getGivenName()+"\n";
				result+= "Family Name: "+profile.getFamilyName()+"\n";
				result+= "Email: "+profile.getEmail()+"\n";
				result+= "ID Token: "+userInfo.getAuthResponse().id_token+"\n";
				
				document.getElementById("result").value = result;
			}
			
			function signOut() {
				var auth2 = gapi.auth2.getAuthInstance();
				auth2.signOut().then(function () {
						console.log('User signed out.');
				});
			}
		</script>


		<div class="g-signin2" data-onsuccess="onSignIn" data-theme="dark"></div>
		<br>
		<button onclick="signOut();">Sign out</button>
		<br>
		Result: <textarea id="result"></textarea>
		<br><br><br>
		อ่านคำอธิบายโค้ดได้ที่ <a href="https://ai-no-tsubasa.blogspot.com/2018/10/how-to-integrate-google-login-into-your-site.html#google-btn">AiNoTsubasa's Blog</a>


	</body>
</html>
